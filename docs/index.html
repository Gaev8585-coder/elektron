<script>
    // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–∏ –¥–ª—è –±–æ—Ä—å–±—ã —Å –∫–µ—à–µ–º
    const version = "2.0";
    
    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–∫–∞–∑–∞ –æ—à–∏–±–æ–∫
    function showError(message) {
        console.error("‚ùå –û—à–∏–±–∫–∞:", message);
        const statusElement = document.getElementById('lastUpdate');
        if (statusElement) {
            statusElement.textContent = '‚ùå ' + message;
            statusElement.style.color = '#ef4444';
        }
    }
    
    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
    function updateSensorDisplay(data) {
        console.log("üìä –î–∞–Ω–Ω—ã–µ –ø–æ–ª—É—á–µ–Ω—ã:", data);
        
        // –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞
        const tempElement = document.getElementById('temperature');
        if (tempElement) {
            tempElement.textContent = data.temperature + '¬∞C';
        }
        
        // –í–ª–∞–∂–Ω–æ—Å—Ç—å
        const humidityElement = document.getElementById('humidity');
        if (humidityElement) {
            humidityElement.textContent = data.humidity + '%';
        }
        
        // –ù–∞–ø—Ä—è–∂–µ–Ω–∏–µ
        const voltageElement = document.getElementById('voltage');
        if (voltageElement) {
            voltageElement.textContent = data.voltage + 'V';
        }
        
        // –í—Ä–µ–º—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
        const lastUpdateElement = document.getElementById('lastUpdate');
        if (lastUpdateElement) {
            lastUpdateElement.textContent = '–û–±–Ω–æ–≤–ª–µ–Ω–æ: ' + new Date().toLocaleTimeString();
            lastUpdateElement.style.color = '#10b981';
        }
    }
    
    // –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö
    async function loadSensorData() {
        try {
            console.log("üîÑ –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...");
            const response = await fetch('https://raw.githubusercontent.com/gaev8585-coder/elektron/main/docs/data.json?t=' + Date.now());
            
            if (!response.ok) {
                throw new Error('–û—à–∏–±–∫–∞ —Å–µ—Ç–∏: ' + response.status);
            }
            
            const data = await response.json();
            updateSensorDisplay(data);
            
        } catch (error) {
            console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏:', error);
            showError('–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –¥–∞—Ç—á–∏–∫–∞–º–∏: ' + error.message);
        }
    }
    
    // –ó–∞–≥—Ä—É–∂–∞–µ–º —Å—Ä–∞–∑—É –∏ –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥
    loadSensorData();
    setInterval(loadSensorData, 30000);
</script>
