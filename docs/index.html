<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Elektron Monitor</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            padding: 20px; 
            background: #0f172a; 
            color: white;
            margin: 0;
        }
        .container {
            max-width: 400px;
            margin: 0 auto;
        }
        .header {
            text-align: center;
            margin-bottom: 30px;
        }
        .card {
            background: #1e293b;
            padding: 20px;
            margin: 15px 0;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .value {
            font-size: 2.5em;
            font-weight: bold;
            text-align: center;
            margin: 10px 0;
        }
        .temperature { color: #10b981; }
        .humidity { color: #3b82f6; }
        .voltage { color: #8b5cf6; }
        #lastUpdate {
            text-align: center;
            color: #94a3b8;
            margin-top: 20px;
            font-size: 0.9em;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üîå Elektron Monitor</h1>
            <p>–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –¥–∞—Ç—á–∏–∫–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏</p>
        </div>

        <!-- –ö–∞—Ä—Ç–æ—á–∫–∞ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã -->
        <div class="card">
            <h3>üå°Ô∏è –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞</h3>
            <div class="value temperature" id="temperature">--¬∞C</div>
        </div>

        <!-- –ö–∞—Ä—Ç–æ—á–∫–∞ –≤–ª–∞–∂–Ω–æ—Å—Ç–∏ -->
        <div class="card">
            <h3>üíß –í–ª–∞–∂–Ω–æ—Å—Ç—å</h3>
            <div class="value humidity" id="humidity">--%</div>
        </div>

        <!-- –ö–∞—Ä—Ç–æ—á–∫–∞ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏—è -->
        <div class="card">
            <h3>üîå –ù–∞–ø—Ä—è–∂–µ–Ω–∏–µ</h3>
            <div class="value voltage" id="voltage">--V</div>
        </div>

        <!-- –°—Ç–∞—Ç—É—Å -->
        <div id="lastUpdate">–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...</div>
    </div>

    <script>
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–∫–∞–∑–∞ –æ—à–∏–±–æ–∫
        function showError(message) {
            console.error("‚ùå –û—à–∏–±–∫–∞:", message);
            const statusElement = document.getElementById('lastUpdate');
            if (statusElement) {
                statusElement.textContent = '‚ùå ' + message;
                statusElement.style.color = '#ef4444';
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
        function updateSensorDisplay(data) {
            console.log("üìä –î–∞–Ω–Ω—ã–µ –ø–æ–ª—É—á–µ–Ω—ã:", data);
            
            // –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞
            const tempElement = document.getElementById('temperature');
            if (tempElement && data.temperature !== undefined) {
                tempElement.textContent = data.temperature + '¬∞C';
            }
            
            // –í–ª–∞–∂–Ω–æ—Å—Ç—å
            const humidityElement = document.getElementById('humidity');
            if (humidityElement && data.humidity !== undefined) {
                humidityElement.textContent = data.humidity + '%';
            }
            
            // –ù–∞–ø—Ä—è–∂–µ–Ω–∏–µ
            const voltageElement = document.getElementById('voltage');
            if (voltageElement && data.voltage !== undefined) {
                voltageElement.textContent = data.voltage + 'V';
            }
            
            // –í—Ä–µ–º—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
            const lastUpdateElement = document.getElementById('lastUpdate');
            if (lastUpdateElement) {
                lastUpdateElement.textContent = '–û–±–Ω–æ–≤–ª–µ–Ω–æ: ' + new Date().toLocaleTimeString();
                lastUpdateElement.style.color = '#10b981';
            }
        }

        // –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö
        async function loadSensorData() {
            try {
                console.log("üîÑ –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...");
              const response = await fetch('https://raw.githubusercontent.com/gaev8585-coder/elektron/main/docs/data.json?t=' + Date.now());
                
                if (!response.ok) {
                    throw new Error('–û—à–∏–±–∫–∞ —Å–µ—Ç–∏: ' + response.status);
                }
                
                const data = await response.json();
                updateSensorDisplay(data);
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏:', error);
                showError('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏: ' + error.message);
            }
        }

        // –ñ–¥–µ–º –∑–∞–≥—Ä—É–∑–∫–∏ DOM –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º
        document.addEventListener('DOMContentLoaded', function() {
            console.log("üöÄ –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–∞, –∑–∞–ø—É—Å–∫–∞–µ–º –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥...");
            loadSensorData();
            setInterval(loadSensorData, 30000);
        });
    </script>
</body>
</html>
